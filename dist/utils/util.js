'use strict';

function getCurrentTime() {
  var keep = '';
  var date = new Date();
  var y = date.getFullYear();
  var m = date.getMonth() + 1;
  m = m < 10 ? '0' + m : m;
  var d = date.getDate() < 10 ? '0' + date.getDate() : date.getDate();
  var h = date.getHours() < 10 ? '0' + date.getHours() : date.getHours();
  var f = date.getMinutes() < 10 ? '0' + date.getMinutes() : date.getMinutes();
  var s = date.getSeconds() < 10 ? '0' + date.getSeconds() : date.getSeconds();
  keep = y + '年' + m + '月' + d + '日' + h + '时' + f + '分' + s + '秒';
  return keep; // 20160614134947
}

function objLength(input) {
  var type = toString(input);
  var length = 0;
  if (type !== '[object Object]') {
    // throw '输入必须为对象{}！'
  } else {
    for (var key in input) {
      if (key !== 'number') {
        length++;
      }
    }
  }
  return length;
}
// 验证是否是手机号码
function vailPhone(number) {
  var flag = true;
  var myreg = /^(((13[0-9]{1})|(14[0-9]{1})|(17[0]{1})|(15[0-3]{1})|(15[5-9]{1})|(18[0-9]{1}))+\d{8})$/;
  if (number.length !== 11 || !myreg.test(number)) {
    flag = false;
  }
  return flag;
}
// 验证是否西班牙手机(6开头 9位数)
function ifSpanish(number) {
  var flag = true;
  var myreg = /^([6|7|9]{1}(\d+){8})$/;
  if (number.length !== 9 || !myreg.test(number)) {
    flag = false;
  }
  return flag;
}
// 浮点型除法
function div(a, b) {
  var c = void 0,
      d = void 0,
      e = void 0,
      f = void 0;
  try {
    e = a.toString().split('.')[1].length;
  } catch (g) {}
  try {
    f = b.toString().split('.')[1].length;
  } catch (g) {}
  // [eslint] Return statement should not contain assignment. (no-return-assign)
  c = Number(a.toString().replace('.', ''));
  d = Number(b.toString().replace('.', ''));
  return mul(c / d, Math.pow(10, f - e));
}
// 浮点型加法函数
function accAdd(arg1, arg2) {
  var r1 = void 0,
      r2 = void 0,
      m = void 0;
  try {
    r1 = arg1.toString().split('.')[1].length;
  } catch (e) {
    r1 = 0;
  }
  try {
    r2 = arg2.toString().split('.')[1].length;
  } catch (e) {
    r2 = 0;
  }
  m = Math.pow(10, Math.max(r1, r2));
  return ((arg1 * m + arg2 * m) / m).toFixed(2);
}
// 浮点型乘法
function mul(a, b) {
  var c = 0;
  var d = a.toString();
  var e = b.toString();
  try {
    c += a.toString().split('.')[1].length;
  } catch (f) {}
  try {
    c += b.toString().split('.')[1].length;
  } catch (f) {}
  return Number(d.replace('.', '')) * Number(e.replace('.', '')) / Math.pow(10, c);
}

//  遍历对象属性和值
function displayProp(obj) {
  var names = '';
  for (var name in obj) {
    names += name + obj[name];
  }
  return names;
}
//  去除字符串所有空格
function sTrim(text) {
  return text.replace(/\s/g, '');
}
// 去除所有:,英文冒号
function replaceColon(txt) {
  return txt.replace(/:/g, '');
}
// 转换星星分数
function convertStarArray(score) {
  // 1 全星,0 空星,2半星
  var arr = [];
  for (var i = 1; i <= 5; i++) {
    if (score >= i) {
      arr.push(1);
    } else if (score > i - 1 && score < i + 1) {
      arr.push(2);
    } else {
      arr.push(0);
    }
  }
  return arr;
}

function formatNumber(n) {
  n = n.toString();
  return n[1] ? n : '0' + n;
}
/** 
 * 时间戳转化为年 月 日 时 分 秒 
 * number: 传入时间戳 
 * format：返回格式，支持自定义，但参数必须与formateArr里保持一致 
*/
function formatTime(number, format) {

  var formateArr = ['Y', 'M', 'D', 'h', 'm', 's'];
  var returnArr = [];

  // var date = new Date(number * 1000);  //注意 时间戳如果是10位需要乘以1000
  var date = new Date(number);
  returnArr.push(date.getFullYear());
  returnArr.push(formatNumber(date.getMonth() + 1));
  returnArr.push(formatNumber(date.getDate()));

  returnArr.push(formatNumber(date.getHours()));
  returnArr.push(formatNumber(date.getMinutes()));
  returnArr.push(formatNumber(date.getSeconds()));

  for (var i in returnArr) {
    format = format.replace(formateArr[i], returnArr[i]);
  }
  return format;
}
module.exports = {
  getCurrentTime: getCurrentTime,
  objLength: objLength,
  displayProp: displayProp,
  sTrim: sTrim,
  replaceColon: replaceColon,
  vailPhone: vailPhone,
  ifSpanish: ifSpanish,
  div: div,
  mul: mul,
  accAdd: accAdd,
  convertStarArray: convertStarArray,
  formatTime: formatTime
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWwuanMiXSwibmFtZXMiOlsiZ2V0Q3VycmVudFRpbWUiLCJrZWVwIiwiZGF0ZSIsIkRhdGUiLCJ5IiwiZ2V0RnVsbFllYXIiLCJtIiwiZ2V0TW9udGgiLCJkIiwiZ2V0RGF0ZSIsImgiLCJnZXRIb3VycyIsImYiLCJnZXRNaW51dGVzIiwicyIsImdldFNlY29uZHMiLCJvYmpMZW5ndGgiLCJpbnB1dCIsInR5cGUiLCJ0b1N0cmluZyIsImxlbmd0aCIsImtleSIsInZhaWxQaG9uZSIsIm51bWJlciIsImZsYWciLCJteXJlZyIsInRlc3QiLCJpZlNwYW5pc2giLCJkaXYiLCJhIiwiYiIsImMiLCJlIiwic3BsaXQiLCJnIiwiTnVtYmVyIiwicmVwbGFjZSIsIm11bCIsIk1hdGgiLCJwb3ciLCJhY2NBZGQiLCJhcmcxIiwiYXJnMiIsInIxIiwicjIiLCJtYXgiLCJ0b0ZpeGVkIiwiZGlzcGxheVByb3AiLCJvYmoiLCJuYW1lcyIsIm5hbWUiLCJzVHJpbSIsInRleHQiLCJyZXBsYWNlQ29sb24iLCJ0eHQiLCJjb252ZXJ0U3RhckFycmF5Iiwic2NvcmUiLCJhcnIiLCJpIiwicHVzaCIsImZvcm1hdE51bWJlciIsIm4iLCJmb3JtYXRUaW1lIiwiZm9ybWF0IiwiZm9ybWF0ZUFyciIsInJldHVybkFyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsU0FBU0EsY0FBVCxHQUEwQjtBQUN4QixNQUFJQyxPQUFPLEVBQVg7QUFDQSxNQUFJQyxPQUFPLElBQUlDLElBQUosRUFBWDtBQUNBLE1BQUlDLElBQUlGLEtBQUtHLFdBQUwsRUFBUjtBQUNBLE1BQUlDLElBQUlKLEtBQUtLLFFBQUwsS0FBa0IsQ0FBMUI7QUFDQUQsTUFBSUEsSUFBSSxFQUFKLEdBQVMsTUFBTUEsQ0FBZixHQUFtQkEsQ0FBdkI7QUFDQSxNQUFJRSxJQUFJTixLQUFLTyxPQUFMLEtBQWlCLEVBQWpCLEdBQXNCLE1BQU1QLEtBQUtPLE9BQUwsRUFBNUIsR0FBNkNQLEtB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S0EsR0FSVTtBQVNmUyxPQUFLQSxHQVRVO0FBVWZHLFVBQVFBLE1BVk87QUFXZmUsb0JBQWtCQSxnQkFYSDtBQVlmTyxjQUFZQTtBQVpHLENBQWpCIiwiZmlsZSI6InV0aWwuanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBnZXRDdXJyZW50VGltZSgpIHtcclxuICBsZXQga2VlcCA9ICcnXHJcbiAgbGV0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgbGV0IHkgPSBkYXRlLmdldEZ1bGxZZWFyKClcclxuICBsZXQgbSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcclxuICBtID0gbSA8IDEwID8gJzAnICsgbSA6IG1cclxuICBsZXQgZCA9IGRhdGUuZ2V0RGF0ZSgpIDwgMTAgPyAnMCcgKyBkYXRlLmdldERhdGUoKSA6IGRhdGUuZ2V0RGF0ZSgpXHJcbiAgbGV0IGggPSBkYXRlLmdldEhvdXJzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0SG91cnMoKSA6IGRhdGUuZ2V0SG91cnMoKVxyXG4gIGxldCBmID0gZGF0ZS5nZXRNaW51dGVzKCkgPCAxMCA/ICcwJyArIGRhdGUuZ2V0TWludXRlcygpIDogZGF0ZS5nZXRNaW51dGVzKClcclxuICBsZXQgcyA9IGRhdGUuZ2V0U2Vjb25kcygpIDwgMTAgPyAnMCcgKyBkYXRlLmdldFNlY29uZHMoKSA6IGRhdGUuZ2V0U2Vjb25kcygpXHJcbiAga2VlcCA9IHkgKyAn5bm0JyArIG0gKyAn5pyIJyArIGQgKyAn5pelJyArIGggKyAn5pe2JyArIGYgKyAn5YiGJyArIHMrJ+enkidcclxuICByZXR1cm4ga2VlcCAvLyAyMDE2MDYxNDEzNDk0N1xyXG59XHJcblxyXG5mdW5jdGlvbiBvYmpMZW5ndGgoaW5wdXQpIHtcclxuICBsZXQgdHlwZSA9IHRvU3RyaW5nKGlucHV0KVxyXG4gIGxldCBsZW5ndGggPSAwXHJcbiAgaWYgKHR5cGUgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XHJcbiAgICAvLyB0aHJvdyAn6L6T5YWl5b+F6aG75Li65a+56LGhe33vvIEnXHJcbiAgfSBlbHNlIHtcclxuICAgIGZvciAobGV0IGtleSBpbiBpbnB1dCkge1xyXG4gICAgICBpZiAoa2V5ICE9PSAnbnVtYmVyJykge1xyXG4gICAgICAgIGxlbmd0aCsrXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGxlbmd0aFxyXG59XHJcbi8vIOmqjOivgeaYr+WQpuaYr+aJi+acuuWPt+eggVxyXG5mdW5jdGlvbiB2YWlsUGhvbmUobnVtYmVyKSB7XHJcbiAgbGV0IGZsYWcgPSB0cnVlXHJcbiAgbGV0IG15cmVnID0gL14oKCgxM1swLTldezF9KXwoMTRbMC05XXsxfSl8KDE3WzBdezF9KXwoMTVbMC0zXXsxfSl8KDE1WzUtOV17MX0pfCgxOFswLTldezF9KSkrXFxkezh9KSQvXHJcbiAgaWYgKG51bWJlci5sZW5ndGggIT09IDExIHx8ICFteXJlZy50ZXN0KG51bWJlcikpIHtcclxuICAgIGZsYWcgPSBmYWxzZVxyXG4gIH1cclxuICByZXR1cm4gZmxhZ1xyXG59XHJcbi8vIOmqjOivgeaYr+WQpuilv+ePreeJmeaJi+acuig25byA5aS0IDnkvY3mlbApXHJcbmZ1bmN0aW9uIGlmU3BhbmlzaChudW1iZXIpIHtcclxuICBsZXQgZmxhZyA9IHRydWVcclxuICBsZXQgbXlyZWcgPSAvXihbNnw3fDldezF9KFxcZCspezh9KSQvXHJcbiAgaWYgKG51bWJlci5sZW5ndGggIT09IDkgfHwgIW15cmVnLnRlc3QobnVtYmVyKSkge1xyXG4gICAgZmxhZyA9IGZhbHNlXHJcbiAgfVxyXG4gIHJldHVybiBmbGFnXHJcbn1cclxuLy8g5rWu54K55Z6L6Zmk5rOVXHJcbmZ1bmN0aW9uIGRpdihhLCBiKSB7XHJcbiAgbGV0IGMsIGQsIGUsIGZcclxuICB0cnkge1xyXG4gICAgZSA9IGEudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aFxyXG4gIH0gY2F0Y2ggKGcpIHsgfVxyXG4gIHRyeSB7XHJcbiAgICBmID0gYi50b1N0cmluZygpLnNwbGl0KCcuJylbMV0ubGVuZ3RoXHJcbiAgfSBjYXRjaCAoZykge31cclxuICAvLyBbZXNsaW50XSBSZXR1cm4gc3RhdGVtZW50IHNob3VsZCBub3QgY29udGFpbiBhc3NpZ25tZW50LiAobm8tcmV0dXJuLWFzc2lnbilcclxuICBjID0gTnVtYmVyKGEudG9TdHJpbmcoKS5yZXBsYWNlKCcuJywgJycpKVxyXG4gIGQgPSBOdW1iZXIoYi50b1N0cmluZygpLnJlcGxhY2UoJy4nLCAnJykpXHJcbiAgcmV0dXJuIG11bChjIC8gZCwgTWF0aC5wb3coMTAsIGYgLSBlKSlcclxufVxyXG4vLyDmta7ngrnlnovliqDms5Xlh73mlbBcclxuZnVuY3Rpb24gYWNjQWRkKGFyZzEsIGFyZzIpIHtcclxuICBsZXQgcjEsIHIyLCBtXHJcbiAgdHJ5IHtcclxuICAgIHIxID0gYXJnMS50b1N0cmluZygpLnNwbGl0KCcuJylbMV0ubGVuZ3RoXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcjEgPSAwXHJcbiAgfVxyXG4gIHRyeSB7XHJcbiAgICByMiA9IGFyZzIudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aFxyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHIyID0gMFxyXG4gIH1cclxuICBtID0gTWF0aC5wb3coMTAsIE1hdGgubWF4KHIxLCByMikpXHJcbiAgcmV0dXJuICgoYXJnMSAqIG0gKyBhcmcyICogbSkgLyBtKS50b0ZpeGVkKDIpXHJcbn1cclxuLy8g5rWu54K55Z6L5LmY5rOVXHJcbmZ1bmN0aW9uIG11bChhLCBiKSB7XHJcbiAgbGV0IGMgPSAwXHJcbiAgbGV0IGQgPSBhLnRvU3RyaW5nKClcclxuICBsZXQgZSA9IGIudG9TdHJpbmcoKVxyXG4gIHRyeSB7XHJcbiAgICBjICs9IGEudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aFxyXG4gIH0gY2F0Y2ggKGYpIHsgfVxyXG4gIHRyeSB7XHJcbiAgICBjICs9IGIudG9TdHJpbmcoKS5zcGxpdCgnLicpWzFdLmxlbmd0aFxyXG4gIH0gY2F0Y2ggKGYpIHsgfVxyXG4gIHJldHVybiBOdW1iZXIoZC5yZXBsYWNlKCcuJywgJycpKSAqIE51bWJlcihlLnJlcGxhY2UoJy4nLCAnJykpIC8gTWF0aC5wb3coMTAsIGMpXHJcbn1cclxuXHJcbi8vICDpgY3ljoblr7nosaHlsZ7mgKflkozlgLxcclxuZnVuY3Rpb24gZGlzcGxheVByb3Aob2JqKSB7XHJcbiAgbGV0IG5hbWVzID0gJydcclxuICBmb3IgKGxldCBuYW1lIGluIG9iaikge1xyXG4gICAgbmFtZXMgKz0gbmFtZSArIG9ialtuYW1lXVxyXG4gIH1cclxuICByZXR1cm4gbmFtZXNcclxufVxyXG4vLyAg5Y676Zmk5a2X56ym5Liy5omA5pyJ56m65qC8XHJcbmZ1bmN0aW9uIHNUcmltKHRleHQpIHtcclxuICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHMvZywgJycpXHJcbn1cclxuLy8g5Y676Zmk5omA5pyJOizoi7HmloflhpLlj7dcclxuZnVuY3Rpb24gcmVwbGFjZUNvbG9uKHR4dCkge1xyXG4gIHJldHVybiB0eHQucmVwbGFjZSgvOi9nLCAnJylcclxufVxyXG4vLyDovazmjaLmmJ/mmJ/liIbmlbBcclxuZnVuY3Rpb24gY29udmVydFN0YXJBcnJheShzY29yZSkge1xyXG4gIC8vIDEg5YWo5pifLDAg56m65pifLDLljYrmmJ9cclxuICBsZXQgYXJyID0gW11cclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSA1OyBpKyspIHtcclxuICAgIGlmIChzY29yZSA+PSBpKSB7XHJcbiAgICAgIGFyci5wdXNoKDEpXHJcbiAgICB9IGVsc2UgaWYgKHNjb3JlID4gaSAtIDEgJiYgc2NvcmUgPCBpICsgMSkge1xyXG4gICAgICBhcnIucHVzaCgyKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYXJyLnB1c2goMClcclxuICAgIH1cclxuICB9XHJcbiAgcmV0dXJuIGFyclxyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobikgeyAgXHJcbiAgbiA9IG4udG9TdHJpbmcoKSAgXHJcbiAgcmV0dXJuIG5bMV0gPyBuIDogJzAnICsgbiAgXHJcbn0gIFxyXG4vKiogXHJcbiAqIOaXtumXtOaIs+i9rOWMluS4uuW5tCDmnIgg5pelIOaXtiDliIYg56eSIFxyXG4gKiBudW1iZXI6IOS8oOWFpeaXtumXtOaIsyBcclxuICogZm9ybWF077ya6L+U5Zue5qC85byP77yM5pSv5oyB6Ieq5a6a5LmJ77yM5L2G5Y+C5pWw5b+F6aG75LiOZm9ybWF0ZUFycumHjOS/neaMgeS4gOiHtCBcclxuKi8gIFxyXG5mdW5jdGlvbiBmb3JtYXRUaW1lKG51bWJlcixmb3JtYXQpIHsgIFxyXG5cclxuICB2YXIgZm9ybWF0ZUFyciAgPSBbJ1knLCdNJywnRCcsJ2gnLCdtJywncyddOyAgXHJcbiAgdmFyIHJldHVybkFyciAgID0gW107ICBcclxuXHJcbiAgLy8gdmFyIGRhdGUgPSBuZXcgRGF0ZShudW1iZXIgKiAxMDAwKTsgIC8v5rOo5oSPIOaXtumXtOaIs+WmguaenOaYrzEw5L2N6ZyA6KaB5LmY5LulMTAwMFxyXG4gIHZhciBkYXRlID0gbmV3IERhdGUobnVtYmVyKTsgIFxyXG4gIHJldHVybkFyci5wdXNoKGRhdGUuZ2V0RnVsbFllYXIoKSk7ICBcclxuICByZXR1cm5BcnIucHVzaChmb3JtYXROdW1iZXIoZGF0ZS5nZXRNb250aCgpICsgMSkpOyAgXHJcbiAgcmV0dXJuQXJyLnB1c2goZm9ybWF0TnVtYmVyKGRhdGUuZ2V0RGF0ZSgpKSk7ICBcclxuXHJcbiAgcmV0dXJuQXJyLnB1c2goZm9ybWF0TnVtYmVyKGRhdGUuZ2V0SG91cnMoKSkpOyAgXHJcbiAgcmV0dXJuQXJyLnB1c2goZm9ybWF0TnVtYmVyKGRhdGUuZ2V0TWludXRlcygpKSk7ICBcclxuICByZXR1cm5BcnIucHVzaChmb3JtYXROdW1iZXIoZGF0ZS5nZXRTZWNvbmRzKCkpKTsgIFxyXG5cclxuICBmb3IgKHZhciBpIGluIHJldHVybkFycikgIFxyXG4gIHsgIFxyXG4gICAgZm9ybWF0ID0gZm9ybWF0LnJlcGxhY2UoZm9ybWF0ZUFycltpXSwgcmV0dXJuQXJyW2ldKTsgIFxyXG4gIH0gIFxyXG4gIHJldHVybiBmb3JtYXQ7ICBcclxufVxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICBnZXRDdXJyZW50VGltZTogZ2V0Q3VycmVudFRpbWUsXHJcbiAgb2JqTGVuZ3RoOiBvYmpMZW5ndGgsXHJcbiAgZGlzcGxheVByb3A6IGRpc3BsYXlQcm9wLFxyXG4gIHNUcmltOiBzVHJpbSxcclxuICByZXBsYWNlQ29sb246IHJlcGxhY2VDb2xvbixcclxuICB2YWlsUGhvbmU6IHZhaWxQaG9uZSxcclxuICBpZlNwYW5pc2g6IGlmU3BhbmlzaCxcclxuICBkaXY6IGRpdixcclxuICBtdWw6IG11bCxcclxuICBhY2NBZGQ6IGFjY0FkZCxcclxuICBjb252ZXJ0U3RhckFycmF5OiBjb252ZXJ0U3RhckFycmF5LFxyXG4gIGZvcm1hdFRpbWU6IGZvcm1hdFRpbWVcclxufVxyXG4iXX0=